<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Host a static Ghost blog on GitHub using Buster</title>
  <meta name="description" content="Founder of Lost Leaf Studio, developer, consultant, cyclist, soccer fan, nature enthusiast and lover of beer.">
  <meta name="author" content="Josh Gerdes">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Josh Gerdes">
  <meta name="twitter:description" content="Founder of Lost Leaf Studio, developer, consultant, cyclist, soccer fan, nature enthusiast and lover of beer.">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Josh Gerdes">
  <meta property="og:description" content="Founder of Lost Leaf Studio, developer, consultant, cyclist, soccer fan, nature enthusiast and lover of beer.">

  <link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://joshgerdes.com//2015/host-a-static-ghost-blog-on-github/">
  <link rel="alternate" type="application/rss+xml" title="Josh Gerdes" href="/feed.xml">
</head>


  <body>
    <span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>
  
<header class="panel-cover" style="background-image: url(/images/cover.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">
        <a href="/" title="link to home of Josh Gerdes">
          <img src="/images/profile.jpg" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">Josh Gerdes</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">Founder of Lost Leaf Studio, developer, consultant, cyclist, soccer fan, nature enthusiast and lover of beer.</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="link to Josh Gerdes blog" class="blog-button">Blog</a></li>
            </ul>
          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">
          
            
              <!-- Twitter -->
              <li class="navigation__item">
                <a href="http://twitter.com/joshgerdes" title="@joshgerdes on Twitter" target="_blank">
                  <i class="icon icon-social-twitter"></i>
                  <span class="label">Twitter</span>
                </a>
              </li>
            

            

            
              <!-- LinkedIn -->
              <li class="navigation__item">
                <a href="https://www.linkedin.com/in/joshgerdes" title="joshgerdes on LinkedIn" target="_blank">
                  <i class="icon icon-social-linkedin"></i>
                  <span class="label">LinkedIn</span>
                </a>
              </li>
            

            
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/joshgerdes" title="joshgerdes on GitHub" target="_blank">
                  <i class="icon icon-social-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
            

            
              <!-- Email -->
              <li class="navigation__item">
                <a href="mailto:josh@joshgerdes.com" title="Email josh@joshgerdes.com" target="_blank">
                  <i class="icon icon-mail"></i>
                  <span class="label">Email</span>
                </a>
              </li>
            

            <!-- RSS -->
            <li class="navigation__item">
              <a href="/feed.xml" title="Subscribe" target="_blank">
                <i class="icon icon-rss"></i>
                <span class="label">RSS</span>
              </a>
            </li>
          
            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <article class="post-container post-container--single">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="12 Mar 2015" class="post-meta__date date">12 Mar 2015</time> &#8226; <span class="post-meta__tags">on <a href="/tags/#ghost">ghost</a> <a href="/tags/#buster">buster</a> </span>
    </div>
    <h1 class="post-title">Host a static Ghost blog on GitHub using Buster</h1>
  </header>

  <section class="post">
    <p>I have really enjoyed the simplicity of the <a href="https://github.com/tryghost/Ghost&quot; target=&quot;_blank">Ghost</a> blogging system and wanted to use it for my personal site.  But I also enjoyed the ease of hosting with <a href="https://pages.github.com&quot; target=&quot;_blank">GitHub Pages</a> so I needed to find a way to generate a static version of a Ghost blog.  Luckily someone already had a handy little tool for the job called <a href="https://github.com/axitkhurana/buster&quot; target=&quot;_blank">Buster</a>.</p>

<h3 id="installing-buster">Installing Buster</h3>

<p>Details on Buster can be found <a href="https://github.com/axitkhurana/buster&quot; target=&quot;_blank">here</a>. Basically, you need to install <strong>wget</strong> and <strong>git</strong> with <a href="http://brew.sh/&quot; target=&quot;_blank">brew</a> (if they are not already installed on your system) then install Buster with <a href="https://pip.pypa.io&quot; target=&quot;_blank">pip</a>.  Just run the following commands:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>brew install wget
brew install git
pip install buster
</code></pre>
</div>

<p>To test the install of Buster run the following:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>buster --version
</code></pre>
</div>
<p>You should see current version display (i.e. <code class="highlighter-rouge">0.1.3</code>).</p>

<h3 id="setting-up-ghost">Setting up Ghost</h3>

<p>First off you need to download of a copy of the latest version of Ghost found <a href="https://github.com/TryGhost/Ghost/releases&quot; target=&quot;_blank">here</a>. Extract the archive and open a console and go to the newly created directory and run the following:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>npm install --production
npm start
</code></pre>
</div>

<p>Then visit http://127.0.0.1:2368/ghost in a browser and go through the setup screens to create an admin account and start using ghost.</p>

<h3 id="setting-up-buster">Setting up Buster</h3>

<p>In a new console window go to the directory where ghost is installed and type the following to setup buster:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>buster setup
</code></pre>
</div>

<p>Just follow the prompts and provide the data needed. Please view the README on the <a href="https://github.com/axitkhurana/buster&quot; target=&quot;_blank">Buster GitHub page</a> for more details on how to use Buster.</p>

<h3 id="generating-static-pages-with-buster">Generating static pages with Buster</h3>

<p>At the time of writing this Buster had some issues with missing the generation of some needed files and creating some files with incorrect URL reference in page. I created this script as a workaround for those issue.  So create a file (I called it <strong>build-static.sh</strong>) and be sure and change out the references to http://joshgerdes.com and replace them with your remote site URL.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># Generate static files with buster</span>
buster generate --domain<span class="o">=</span>http://127.0.0.1:2368  

<span class="c"># Copy sitemap files</span>
wget --convert-links --page-requisites --no-parent --directory-prefix static --no-host-directories --restrict-file-name<span class="o">=</span>unix http://127.0.0.1:2368/sitemap.xsl
wget --convert-links --page-requisites --no-parent --directory-prefix static --no-host-directories --restrict-file-name<span class="o">=</span>unix http://127.0.0.1:2368/sitemap.xml
wget --convert-links --page-requisites --no-parent --directory-prefix static --no-host-directories --restrict-file-name<span class="o">=</span>unix http://localhost:2368/sitemap-pages.xml
wget --convert-links --page-requisites --no-parent --directory-prefix static --no-host-directories --restrict-file-name<span class="o">=</span>unix http://localhost:2368/sitemap-posts.xml
wget --convert-links --page-requisites --no-parent --directory-prefix static --no-host-directories --restrict-file-name<span class="o">=</span>unix http://localhost:2368/sitemap-authors.xml
wget --convert-links --page-requisites --no-parent --directory-prefix static --no-host-directories --restrict-file-name<span class="o">=</span>unix http://localhost:2368/sitemap-tags.xml

<span class="c"># Replace urls that were missed by buster</span>
find static/<span class="k">*</span> -name robots.txt -type f -exec sed -i <span class="s1">''</span> <span class="s1">'s#http://localhost:2368#http://joshgerdes.com#g'</span> <span class="o">{}</span> <span class="se">\;</span>
find static/<span class="k">*</span> -name <span class="k">*</span>.xsl -type f -exec sed -i <span class="s1">''</span> <span class="s1">'s#http://localhost:2368#http://joshgerdes.com#g'</span> <span class="o">{}</span> <span class="se">\;</span>
find static/<span class="k">*</span> -name <span class="k">*</span>.xml -type f -exec sed -i <span class="s1">''</span> <span class="s1">'s#loc&gt;http://localhost:2368#loc&gt;http://joshgerdes.com#g'</span> <span class="o">{}</span> <span class="se">\;</span>
find static/<span class="k">*</span> -name <span class="k">*</span>.html -type f -exec sed -i <span class="s1">''</span> <span class="s1">'s#u=http://localhost:2368#u=http://joshgerdes.com#g'</span> <span class="o">{}</span> <span class="se">\;</span>  
find static/<span class="k">*</span> -name <span class="k">*</span>.html -type f -exec sed -i <span class="s1">''</span> <span class="s1">'s#url=http://localhost:2368#url=http://joshgerdes.com#g'</span> <span class="o">{}</span> <span class="se">\;</span>  
find static/<span class="k">*</span> -name <span class="k">*</span>.html -type f -exec sed -i <span class="s1">''</span> <span class="s1">'s#href="http://localhost:2368#href="http://joshgerdes.com#g'</span> <span class="o">{}</span> <span class="se">\;</span>  
find static/<span class="k">*</span> -name <span class="k">*</span>.html -type f -exec sed -i <span class="s1">''</span> <span class="s1">'s#src="http://localhost:2368#src="http://joshgerdes.com#g'</span> <span class="o">{}</span> <span class="se">\;</span>  
find static/<span class="k">*</span> -name <span class="k">*</span>.html -type f -exec sed -i <span class="s1">''</span> <span class="s1">'s#link&gt;http://localhost:2368#link&gt;http://joshgerdes.com#g'</span> <span class="o">{}</span> <span class="se">\;</span> 

<span class="c"># Add CNAME file for github pages</span>
buster add-domain joshgerdes.com

<span class="c"># Copy files that were missed by buster</span>
cp humans.txt static/humans.txt
cp -R content/images static/content
</code></pre>
</div>

<p>Now give the newly created file execute permissions</p>

<div class="highlighter-rouge"><pre class="highlight"><code>chmod +x ./build-static.sh
</code></pre>
</div>

<p>Then just run in the directory where you installed ghost:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>./build-static.sh
</code></pre>
</div>

<p>This should generate static files under a subdirectory called <code class="highlighter-rouge">/static</code> which should be connected to your GitHub repository.</p>

<p><em><strong>NOTE</strong>: I also forked the Buster repository and made changes to the project to fix the broken URLs and add the sitemap files to the static output.  So if you want to use my version of Buster it can be found <a href="https://github.com/joshgerdes/buster&quot; target=&quot;_blank">here</a>. Hopefully my pull request will be accepted shortly and it will become part of the main script.</em></p>

<h3 id="previewing-static-pages">Previewing static pages</h3>

<p>You can preview the static pages by running the following command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>buster preview
</code></pre>
</div>

<p>Then visit http://localhost:9000 in a browser to view the static pages locally.</p>

<h3 id="deploying-static-pages-to-github">Deploying static pages to GitHub</h3>

<p>If you like what you see, you can push those changes to your GitHub repository using normal commands or type the following command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>buster deploy
</code></pre>
</div>

<p>With luck you should have a nice static version of your site published to GitHub to enjoy.</p>

  </section>
  
</article>



      </div>

      <footer class="footer">
  <span class="footer__copyright">&copy; 2017 Josh Gerdes. All rights reserved.</span>
</footer> 

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-501066-1', 'auto');
  ga('send', 'pageview');
</script>

    </div>
  </body>
</html>